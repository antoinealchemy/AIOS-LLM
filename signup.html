<script>
    const supabaseClient = window.supabase.createClient(
        'https://oxjocjucvlifcogphttm.supabase.co',
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94am9janVjdmxpZmNvZ3BodHRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyMTk4NDEsImV4cCI6MjA4MTc5NTg0MX0.Fg9r0RSt-KSkePeIVIBCdVydPIcLsdWFa6D7V5bMT6E'
    );

    document.getElementById('signupForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const messageDiv = document.getElementById('message');
        
        const { data, error } = await supabaseClient.auth.signUp({
            email,
            password
        });
        
        if (error) {
            messageDiv.textContent = error.message;
            messageDiv.classList.add('text-red-500');
            messageDiv.classList.remove('hidden', 'text-green-500');
        } else {
            messageDiv.textContent = 'Compte créé ! Redirection...';
            messageDiv.classList.add('text-green-500');
            messageDiv.classList.remove('hidden', 'text-red-500');
            setTimeout(() => window.location.href = '/', 2000);
        }
    });
</script>